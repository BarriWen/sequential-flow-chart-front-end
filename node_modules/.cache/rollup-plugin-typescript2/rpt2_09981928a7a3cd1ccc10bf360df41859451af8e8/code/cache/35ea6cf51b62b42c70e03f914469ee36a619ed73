{"code":"import { GlobalEditor } from './global-editor';\r\nimport { SmartEditorView } from './smart-editor-view';\r\nimport { StepEditor } from './step-editor';\r\nexport class SmartEditor {\r\n    constructor(view, context) {\r\n        this.view = view;\r\n        this.context = context;\r\n        this.currentStep = undefined;\r\n    }\r\n    static create(parent, context) {\r\n        const view = SmartEditorView.create(parent);\r\n        view.setIsCollapsed(context.isSmartEditorCollapsed);\r\n        const editor = new SmartEditor(view, context);\r\n        view.bindToggleIsCollapsedClick(() => editor.toggleIsCollapsedClick());\r\n        editor.tryRender(null);\r\n        context.onSelectedStepChanged.subscribe(s => editor.onSelectedStepChanged(s));\r\n        context.onDefinitionChanged.subscribe(() => editor.onDefinitionChanged());\r\n        context.onIsSmartEditorCollapsedChanged.subscribe(ic => view.setIsCollapsed(ic));\r\n        return editor;\r\n    }\r\n    toggleIsCollapsedClick() {\r\n        this.context.toggleIsSmartEditorCollapsed();\r\n    }\r\n    onSelectedStepChanged(step) {\r\n        this.tryRender(step);\r\n    }\r\n    onDefinitionChanged() {\r\n        this.tryRender(this.context.selectedStep);\r\n    }\r\n    tryRender(step) {\r\n        if (this.currentStep !== step) {\r\n            const editor = step ? StepEditor.create(step, this.context) : GlobalEditor.create(this.context.definition, this.context);\r\n            this.currentStep = step;\r\n            this.view.setView(editor.view);\r\n        }\r\n    }\r\n}\r\n","references":["/Users/mm/Documents/IntelliProIntern/sequential-flow-chart-front-end/src/definition.ts","/Users/mm/Documents/IntelliProIntern/sequential-flow-chart-front-end/src/designer-context.ts","/Users/mm/Documents/IntelliProIntern/sequential-flow-chart-front-end/src/smart-editor/global-editor.ts","/Users/mm/Documents/IntelliProIntern/sequential-flow-chart-front-end/src/smart-editor/smart-editor-view.ts","/Users/mm/Documents/IntelliProIntern/sequential-flow-chart-front-end/src/smart-editor/step-editor.ts"],"dts":{"name":"/Users/mm/Documents/IntelliProIntern/sequential-flow-chart-front-end/build/src/smart-editor/smart-editor.d.ts","writeByteOrderMark":false,"text":"import { DesignerContext } from '../designer-context';\r\nexport declare class SmartEditor {\r\n    private readonly view;\r\n    private readonly context;\r\n    static create(parent: HTMLElement, context: DesignerContext): SmartEditor;\r\n    private currentStep?;\r\n    private constructor();\r\n    toggleIsCollapsedClick(): void;\r\n    private onSelectedStepChanged;\r\n    private onDefinitionChanged;\r\n    private tryRender;\r\n}\r\n"}}
