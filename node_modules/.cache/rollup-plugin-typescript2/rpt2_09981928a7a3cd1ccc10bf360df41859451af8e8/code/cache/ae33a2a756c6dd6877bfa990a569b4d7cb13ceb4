{"code":"export class SequenceModifier {\r\n    static moveStep(sourceSequence, step, targetSequence, targetIndex) {\r\n        const sourceIndex = sourceSequence.indexOf(step);\r\n        if (sourceIndex < 0) {\r\n            throw new Error('Unknown step');\r\n        }\r\n        const isSameSequence = sourceSequence === targetSequence;\r\n        if (isSameSequence && sourceIndex === targetIndex) {\r\n            return; // Nothing to do.\r\n        }\r\n        sourceSequence.splice(sourceIndex, 1);\r\n        if (isSameSequence && sourceIndex < targetIndex) {\r\n            targetIndex--;\r\n        }\r\n        targetSequence.splice(targetIndex, 0, step);\r\n    }\r\n    static insertStep(step, targetSequence, targetIndex) {\r\n        targetSequence.splice(targetIndex, 0, step);\r\n    }\r\n    static deleteStep(step, parentSequence, choice) {\r\n        if (choice == \"0\" && step.branches.False.length > 0) {\r\n            console.log(\"delete true\");\r\n            for (let i = 0; i < step.branches.False.length; i++) {\r\n                parentSequence.push(step.branches.False[i]);\r\n            }\r\n        }\r\n        // If deleting false branch, keep blocks in true\r\n        else if (choice == \"1\" && step.branches.True.length > 0) {\r\n            console.log(\"delete false\");\r\n            for (let i = 0; i < step.branches.True.length; i++) {\r\n                parentSequence.push(step.branches.True[i]);\r\n            }\r\n        }\r\n        if (choice != null) {\r\n            const index = parentSequence.indexOf(step);\r\n            if (index < 0) {\r\n                throw new Error('Unknown step');\r\n            }\r\n            parentSequence.splice(index, 1);\r\n        }\r\n    }\r\n}\r\n","references":["/Users/mm/Documents/IntelliProIntern/sequential-flow-chart-front-end/src/definition.ts"],"dts":{"name":"/Users/mm/Documents/IntelliProIntern/sequential-flow-chart-front-end/build/src/core/sequence-modifier.d.ts","writeByteOrderMark":false,"text":"import { Sequence, Step } from '../definition';\r\nexport declare class SequenceModifier {\r\n    static moveStep(sourceSequence: Sequence, step: Step, targetSequence: Sequence, targetIndex: number): void;\r\n    static insertStep(step: Step, targetSequence: Sequence, targetIndex: number): void;\r\n    static deleteStep(step: Step, parentSequence: Sequence, choice: string): void;\r\n}\r\n"}}
