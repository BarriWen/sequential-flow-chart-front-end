{"code":"import { ComponentType } from '../definition';\r\nfunction find(sequence, needle, result) {\r\n    for (const step of sequence) {\r\n        switch (step.componentType) {\r\n            case ComponentType.task:\r\n                if (step === needle) {\r\n                    return true;\r\n                }\r\n                break;\r\n            case ComponentType.switch:\r\n                {\r\n                    if (step === needle) {\r\n                        result.push(step);\r\n                        return true;\r\n                    }\r\n                    const switchStep = step;\r\n                    const branchNames = Object.keys(switchStep.branches);\r\n                    for (const branchName of branchNames) {\r\n                        const branch = switchStep.branches[branchName];\r\n                        if (branch === needle || find(branch, needle, result)) {\r\n                            result.push(branchName);\r\n                            result.push(step);\r\n                            return true;\r\n                        }\r\n                    }\r\n                }\r\n                break;\r\n            case ComponentType.container:\r\n                {\r\n                    const containerStep = step;\r\n                    if (containerStep.sequence === needle || find(containerStep.sequence, needle, result)) {\r\n                        result.push(step);\r\n                        return true;\r\n                    }\r\n                }\r\n                break;\r\n            default:\r\n                throw new Error(`Not supported type: ${step.componentType}`);\r\n        }\r\n    }\r\n    return false;\r\n}\r\nexport class StepsTranverser {\r\n    static getParents(definition, needle) {\r\n        const result = [];\r\n        find(definition.sequence, needle, result);\r\n        result.reverse();\r\n        return result;\r\n    }\r\n}\r\n","references":["/Users/mm/Documents/IntelliProIntern/sequential-flow-chart-front-end/src/definition.ts"],"dts":{"name":"/Users/mm/Documents/IntelliProIntern/sequential-flow-chart-front-end/build/src/core/steps-traverser.d.ts","writeByteOrderMark":false,"text":"import { Definition, Sequence, Step } from '../definition';\r\nexport declare type StepOrName = Step | string;\r\nexport declare class StepsTranverser {\r\n    static getParents(definition: Definition, needle: Sequence | Step): StepOrName[];\r\n}\r\n"}}
